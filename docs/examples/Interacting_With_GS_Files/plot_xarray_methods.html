

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Basic Class Structure &mdash; gspy 2.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=4ae1632d" />
      <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css?v=d2d258e8" />
      <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css?v=f4aeca0c" />
      <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css?v=2082cf3c" />
      <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css?v=1277b6f3" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=51b770b3"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Coordinate Reference Systems" href="plot_coordinate_reference_systems.html" />
    <link rel="prev" title="Multi-dataset Survey" href="../Creating_GS_Files/plot_csv_skytem_to_netcdf.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            gspy
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../content/getting_started/getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../content/api/api.html">API</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html#creating-gs-files">Creating GS Files</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#interacting-with-gs-files">Interacting With GS Files</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Basic Class Structure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#accessing-the-xarray-object">Accessing the Xarray object</a></li>
<li class="toctree-l4"><a class="reference internal" href="#coordinates-dimensions-and-attributes">Coordinates, Dimensions, and Attributes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="plot_coordinate_reference_systems.html">Coordinate Reference Systems</a></li>
<li class="toctree-l3"><a class="reference internal" href="plot_cross_section.html">Plotting Cross Sections</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../gspy_convention_requirements.html">GS Convention Requirements</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">gspy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Examples</a></li>
      <li class="breadcrumb-item active">Basic Class Structure</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/examples/Interacting_With_GS_Files/plot_xarray_methods.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#sphx-glr-download-examples-interacting-with-gs-files-plot-xarray-methods-py"><span class="std std-ref">Go to the end</span></a>
to download the full example code.</p>
</div>
<section class="sphx-glr-example-title" id="basic-class-structure">
<span id="sphx-glr-examples-interacting-with-gs-files-plot-xarray-methods-py"></span><h1>Basic Class Structure<a class="headerlink" href="#basic-class-structure" title="Link to this heading"></a></h1>
<p>The three primary classes (Survey, Tabular, and Raster) all contain data and metadata within <a class="reference external" href="https://docs.xarray.dev/en/stable/">Xarray</a> Datasets. This example demonstrates how to access the xarray object for each class, and methods for exploring the data and metadata.</p>
<p>This example uses ASEG-formatted raw AEM data from the Tempest system, and a 2-D GeoTiFF of magnetic data.</p>
<p>Dataset Reference:
Minsley, B.J., James, S.R., Bedrosian, P.A., Pace, M.D., Hoogenboom, B.E., and Burton, B.L., 2021, Airborne electromagnetic, magnetic, and radiometric survey of the Mississippi Alluvial Plain, November 2019 - March 2020: U.S. Geological Survey data release, <a class="reference external" href="https://doi.org/10.5066/P9E44CTQ">https://doi.org/10.5066/P9E44CTQ</a>.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">os.path</span> <span class="kn">import</span> <span class="n">join</span>
<span class="kn">import</span> <span class="nn">gspy</span>
<span class="kn">from</span> <span class="nn">gspy</span> <span class="kn">import</span> <span class="n">Survey</span>
<span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span>
</pre></div>
</div>
<p>First open the netcdf GS standard survey file.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">survey</span> <span class="o">=</span> <span class="n">gspy</span><span class="o">.</span><span class="n">open_datatree</span><span class="p">(</span><span class="s2">&quot;../../../../example_material/example_2/data/Tempest.nc&quot;</span><span class="p">)[</span><span class="s1">&#39;survey&#39;</span><span class="p">]</span>
</pre></div>
</div>
<section id="accessing-the-xarray-object">
<h2>Accessing the Xarray object<a class="headerlink" href="#accessing-the-xarray-object" title="Link to this heading"></a></h2>
<p>Survey</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># The Survey&#39;s metadata is accessed through the xarray property</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Survey:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">survey</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Survey:
&lt;xarray.DataTree &#39;survey&#39;&gt;
Group: /survey
│   Dimensions:                 ()
│   Coordinates:
│       spatial_ref             float64 8B ...
│   Data variables:
│       survey_information      float64 8B ...
│       survey_units            float64 8B ...
│       flightline_information  float64 8B ...
│       survey_equipment        float64 8B ...
│   Attributes:
│       title:        Example Tempest Airborne Electromagnetic (AEM) Dataset
│       institution:  USGS Geology, Geophysics, &amp; Geochemistry Science Center
│       source:       Contractor provided ASEG-formatted data
│       history:      &lt;date and time when the data were produced and/or modified&gt;
│       references:   &lt;data release reference&gt;
│       comment:      &lt;additional details or ancillary information&gt;
│       content:      &lt;summary list of file contents, e.g. raw data (/survey/tabu...
│       conventions:  CF-1.8, GS-0.0
│       created_by:   gspy==0.0.1
│       type:         survey
├── Group: /survey/data
│   │   Dimensions:      ()
│   │   Data variables:
│   │       spatial_ref  float64 8B ...
│   │   Attributes:
│   │       content:  raw and processed data
│   │       type:     container
│   ├── Group: /survey/data/raw_data
│   │   │   Dimensions:          (index: 20701, gate_times: 15)
│   │   │   Coordinates:
│   │   │       spatial_ref      float64 8B ...
│   │   │     * index            (index) int32 83kB 0 1 2 3 4 ... 20697 20698 20699 20700
│   │   │       x                (index) float64 166kB ...
│   │   │       y                (index) float64 166kB ...
│   │   │       z                (index) float64 166kB ...
│   │   │     * gate_times       (gate_times) float64 120B 1.085e-05 3.255e-05 ... 0.01338
│   │   │   Data variables: (12/61)
│   │   │       line             (index) int32 83kB ...
│   │   │       flight           (index) int32 83kB ...
│   │   │       fiducial         (index) float64 166kB ...
│   │   │       proj_cgg         (index) int32 83kB ...
│   │   │       proj_client      (index) int32 83kB ...
│   │   │       date             (index) int32 83kB ...
│   │   │       ...               ...
│   │   │       z_primaryfield   (index) float64 166kB ...
│   │   │       z_vlf1           (index) float64 166kB ...
│   │   │       z_vlf2           (index) float64 166kB ...
│   │   │       z_vlf3           (index) float64 166kB ...
│   │   │       z_vlf4           (index) float64 166kB ...
│   │   │       z_geofact        (index) float64 166kB ...
│   │   │   Attributes:
│   │   │       content:  raw data
│   │   │       comment:  This dataset includes minimally processed (raw) AEM data
│   │   ├── Group: /survey/data/raw_data/tempest_system
│   │   │       Dimensions:                           (gate_times: 15, nv: 2,
│   │   │                                              n_transmitters: 1, z_waveform_time: 7,
│   │   │                                              n_receivers: 2, n_components: 2, xyz: 3)
│   │   │       Coordinates:
│   │   │         * nv                                (nv) int64 16B 0 1
│   │   │         * n_transmitters                    (n_transmitters) int64 8B 0
│   │   │         * z_waveform_time                   (z_waveform_time) float64 56B -0.01667 ...
│   │   │         * xyz                               (xyz) int64 24B 0 1 2
│   │   │         * n_receivers                       (n_receivers) int64 16B 0 1
│   │   │         * n_components                      (n_components) int64 16B 0 1
│   │   │       Data variables: (12/20)
│   │   │           gate_times_bnds                   (gate_times, nv) float64 240B ...
│   │   │           transmitter_label                 (n_transmitters) &lt;U1 4B ...
│   │   │           transmitter_area                  (n_transmitters) float64 8B ...
│   │   │           transmitter_base_frequency        (n_transmitters) float64 8B ...
│   │   │           transmitter_current_scale_factor  (n_transmitters) float64 8B ...
│   │   │           transmitter_number_of_turns       (n_transmitters) int32 4B ...
│   │   │           ...                                ...
│   │   │           component_transmitters            (n_components) &lt;U1 8B ...
│   │   │           component_receivers               (n_components) &lt;U1 8B ...
│   │   │           component_txrx_dx                 (n_components) float64 16B ...
│   │   │           component_txrx_dy                 (n_components) float64 16B ...
│   │   │           component_txrx_dz                 (n_components) float64 16B ...
│   │   │           component_gate_times              (n_components) &lt;U10 80B ...
│   │   │       Attributes:
│   │   │           type:        system
│   │   │           mode:        airborne
│   │   │           method:      electromagnetic
│   │   │           submethod:   time domain
│   │   │           instrument:  tempest
│   │   ├── Group: /survey/data/raw_data/magnetic_system
│   │   │       Attributes:
│   │   │           type:        system
│   │   │           mode:        airborne
│   │   │           method:      magnetic
│   │   │           submethod:   not_defined
│   │   │           instrument:  not_defiend
│   │   └── Group: /survey/data/raw_data/radiometric_system
│   │           Attributes:
│   │               type:        system
│   │               mode:        airborne
│   │               method:      radiometric
│   │               submethod:   not_defined
│   │               instrument:  not_defined
│   └── Group: /survey/data/derived_maps
│       │   Dimensions:      ()
│       │   Data variables:
│       │       spatial_ref  float64 8B ...
│       │   Attributes:
│       │       content:  derived maps
│       │       type:     container
│       └── Group: /survey/data/derived_maps/maps
│               Dimensions:       (x: 599, nv: 2, y: 1212)
│               Coordinates:
│                   spatial_ref   float64 8B ...
│                 * x             (x) float64 5kB 2.928e+05 2.934e+05 ... 6.51e+05 6.516e+05
│                 * nv            (nv) int64 16B 0 1
│                 * y             (y) float64 10kB 1.607e+06 1.606e+06 ... 8.808e+05 8.802e+05
│               Data variables:
│                   x_bnds        (x, nv) float64 10kB ...
│                   y_bnds        (y, nv) float64 19kB ...
│                   magnetic_tmi  (y, x) float64 6MB ...
│               Attributes:
│                   comment:  &lt;additional details or ancillary information&gt;
│                   content:  gridded magnetic map
└── Group: /survey/models
    │   Dimensions:      ()
    │   Data variables:
    │       spatial_ref  float64 8B ...
    │   Attributes:
    │       content:  inverted models
    │       type:     container
    └── Group: /survey/models/inverted_models
            Dimensions:                  (layer_depth: 30, nv: 2, gate_times: 15,
                                          index: 20701)
            Coordinates:
                spatial_ref              float64 8B ...
              * index                    (index) int32 83kB 0 1 2 3 ... 20698 20699 20700
              * layer_depth              (layer_depth) float64 240B 1.5 4.65 ... 424.2 467.5
              * nv                       (nv) int64 16B 0 1
              * gate_times               (gate_times) float64 120B 1.085e-05 ... 0.01338
                x                        (index) float64 166kB ...
                y                        (index) float64 166kB ...
                z                        (index) float64 166kB ...
            Data variables: (12/49)
                layer_depth_bnds         (layer_depth, nv) float64 480B ...
                gate_times_bnds          (gate_times, nv) float64 240B ...
                uniqueid                 (index) int32 83kB ...
                survey                   (index) int32 83kB ...
                date                     (index) int32 83kB ...
                flight                   (index) int32 83kB ...
                ...                       ...
                phic                     (index) float64 166kB ...
                phit                     (index) float64 166kB ...
                phig                     (index) float64 166kB ...
                phis                     (index) float64 166kB ...
                lambda                   (index) float64 166kB ...
                iterations               (index) int32 83kB ...
            Attributes:
                content:  inverted resistivity models
                comment:  This dataset includes inverted resistivity models derived from ...
</pre></div>
</div>
<p>To look just at the attributes</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Survey Attributes:</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">pprint</span><span class="p">(</span><span class="n">survey</span><span class="o">.</span><span class="n">attrs</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Survey Attributes:

{&#39;comment&#39;: &#39;&lt;additional details or ancillary information&gt;&#39;,
 &#39;content&#39;: &#39;&lt;summary list of file contents, e.g. raw data &#39;
            &#39;(/survey/tabular/0), processed data (/survey/tabular/1)&gt;&#39;,
 &#39;conventions&#39;: &#39;CF-1.8, GS-0.0&#39;,
 &#39;created_by&#39;: &#39;gspy==0.0.1&#39;,
 &#39;history&#39;: &#39;&lt;date and time when the data were produced and/or modified&gt;&#39;,
 &#39;institution&#39;: &#39;USGS Geology, Geophysics, &amp; Geochemistry Science Center&#39;,
 &#39;references&#39;: &#39;&lt;data release reference&gt;&#39;,
 &#39;source&#39;: &#39;Contractor provided ASEG-formatted data&#39;,
 &#39;title&#39;: &#39;Example Tempest Airborne Electromagnetic (AEM) Dataset&#39;,
 &#39;type&#39;: &#39;survey&#39;}
</pre></div>
</div>
<p>Or expand a specific variable</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Survey Information:</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">survey</span><span class="p">[</span><span class="s1">&#39;survey_information&#39;</span><span class="p">])</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Survey Information:

&lt;xarray.DataArray &#39;survey_information&#39; ()&gt; Size: 8B
[1 values with dtype=float64]
Coordinates:
    spatial_ref  float64 8B ...
Attributes:
    contractor_project_number:  603756FWA
    contractor:                 CGG Canada Services Ltd.
    client:                     U.S. Geological Survey
    survey_type:                electromagneticmagneticradiometric
    survey_area_name:           Mississippi Alluvial Plain (MAP)
    state:                      MOARTNMSLAILKY
    country:                    USA
    acquisition_start:          20191120
    acquisition_end:            20200307
    dataset_created:            20200420
</pre></div>
</div>
<p>Datasets
Get the list of datasets attached to the survey</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">survey</span><span class="o">.</span><span class="n">items</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;bound method Mapping.items of &lt;xarray.DataTree &#39;survey&#39;&gt;
Group: /survey
│   Dimensions:                 ()
│   Coordinates:
│       spatial_ref             float64 8B ...
│   Data variables:
│       survey_information      float64 8B ...
│       survey_units            float64 8B ...
│       flightline_information  float64 8B ...
│       survey_equipment        float64 8B ...
│   Attributes:
│       title:        Example Tempest Airborne Electromagnetic (AEM) Dataset
│       institution:  USGS Geology, Geophysics, &amp; Geochemistry Science Center
│       source:       Contractor provided ASEG-formatted data
│       history:      &lt;date and time when the data were produced and/or modified&gt;
│       references:   &lt;data release reference&gt;
│       comment:      &lt;additional details or ancillary information&gt;
│       content:      &lt;summary list of file contents, e.g. raw data (/survey/tabu...
│       conventions:  CF-1.8, GS-0.0
│       created_by:   gspy==0.0.1
│       type:         survey
├── Group: /survey/data
│   │   Dimensions:      ()
│   │   Data variables:
│   │       spatial_ref  float64 8B ...
│   │   Attributes:
│   │       content:  raw and processed data
│   │       type:     container
│   ├── Group: /survey/data/raw_data
│   │   │   Dimensions:          (index: 20701, gate_times: 15)
│   │   │   Coordinates:
│   │   │       spatial_ref      float64 8B ...
│   │   │     * index            (index) int32 83kB 0 1 2 3 4 ... 20697 20698 20699 20700
│   │   │       x                (index) float64 166kB ...
│   │   │       y                (index) float64 166kB ...
│   │   │       z                (index) float64 166kB ...
│   │   │     * gate_times       (gate_times) float64 120B 1.085e-05 3.255e-05 ... 0.01338
│   │   │   Data variables: (12/61)
│   │   │       line             (index) int32 83kB ...
│   │   │       flight           (index) int32 83kB ...
│   │   │       fiducial         (index) float64 166kB ...
│   │   │       proj_cgg         (index) int32 83kB ...
│   │   │       proj_client      (index) int32 83kB ...
│   │   │       date             (index) int32 83kB ...
│   │   │       ...               ...
│   │   │       z_primaryfield   (index) float64 166kB ...
│   │   │       z_vlf1           (index) float64 166kB ...
│   │   │       z_vlf2           (index) float64 166kB ...
│   │   │       z_vlf3           (index) float64 166kB ...
│   │   │       z_vlf4           (index) float64 166kB ...
│   │   │       z_geofact        (index) float64 166kB ...
│   │   │   Attributes:
│   │   │       content:  raw data
│   │   │       comment:  This dataset includes minimally processed (raw) AEM data
│   │   ├── Group: /survey/data/raw_data/tempest_system
│   │   │       Dimensions:                           (gate_times: 15, nv: 2,
│   │   │                                              n_transmitters: 1, z_waveform_time: 7,
│   │   │                                              n_receivers: 2, n_components: 2, xyz: 3)
│   │   │       Coordinates:
│   │   │         * nv                                (nv) int64 16B 0 1
│   │   │         * n_transmitters                    (n_transmitters) int64 8B 0
│   │   │         * z_waveform_time                   (z_waveform_time) float64 56B -0.01667 ...
│   │   │         * xyz                               (xyz) int64 24B 0 1 2
│   │   │         * n_receivers                       (n_receivers) int64 16B 0 1
│   │   │         * n_components                      (n_components) int64 16B 0 1
│   │   │       Data variables: (12/20)
│   │   │           gate_times_bnds                   (gate_times, nv) float64 240B ...
│   │   │           transmitter_label                 (n_transmitters) &lt;U1 4B ...
│   │   │           transmitter_area                  (n_transmitters) float64 8B ...
│   │   │           transmitter_base_frequency        (n_transmitters) float64 8B ...
│   │   │           transmitter_current_scale_factor  (n_transmitters) float64 8B ...
│   │   │           transmitter_number_of_turns       (n_transmitters) int32 4B ...
│   │   │           ...                                ...
│   │   │           component_transmitters            (n_components) &lt;U1 8B ...
│   │   │           component_receivers               (n_components) &lt;U1 8B ...
│   │   │           component_txrx_dx                 (n_components) float64 16B ...
│   │   │           component_txrx_dy                 (n_components) float64 16B ...
│   │   │           component_txrx_dz                 (n_components) float64 16B ...
│   │   │           component_gate_times              (n_components) &lt;U10 80B ...
│   │   │       Attributes:
│   │   │           type:        system
│   │   │           mode:        airborne
│   │   │           method:      electromagnetic
│   │   │           submethod:   time domain
│   │   │           instrument:  tempest
│   │   ├── Group: /survey/data/raw_data/magnetic_system
│   │   │       Attributes:
│   │   │           type:        system
│   │   │           mode:        airborne
│   │   │           method:      magnetic
│   │   │           submethod:   not_defined
│   │   │           instrument:  not_defiend
│   │   └── Group: /survey/data/raw_data/radiometric_system
│   │           Attributes:
│   │               type:        system
│   │               mode:        airborne
│   │               method:      radiometric
│   │               submethod:   not_defined
│   │               instrument:  not_defined
│   └── Group: /survey/data/derived_maps
│       │   Dimensions:      ()
│       │   Data variables:
│       │       spatial_ref  float64 8B ...
│       │   Attributes:
│       │       content:  derived maps
│       │       type:     container
│       └── Group: /survey/data/derived_maps/maps
│               Dimensions:       (x: 599, nv: 2, y: 1212)
│               Coordinates:
│                   spatial_ref   float64 8B ...
│                 * x             (x) float64 5kB 2.928e+05 2.934e+05 ... 6.51e+05 6.516e+05
│                 * nv            (nv) int64 16B 0 1
│                 * y             (y) float64 10kB 1.607e+06 1.606e+06 ... 8.808e+05 8.802e+05
│               Data variables:
│                   x_bnds        (x, nv) float64 10kB ...
│                   y_bnds        (y, nv) float64 19kB ...
│                   magnetic_tmi  (y, x) float64 6MB ...
│               Attributes:
│                   comment:  &lt;additional details or ancillary information&gt;
│                   content:  gridded magnetic map
└── Group: /survey/models
    │   Dimensions:      ()
    │   Data variables:
    │       spatial_ref  float64 8B ...
    │   Attributes:
    │       content:  inverted models
    │       type:     container
    └── Group: /survey/models/inverted_models
            Dimensions:                  (layer_depth: 30, nv: 2, gate_times: 15,
                                          index: 20701)
            Coordinates:
                spatial_ref              float64 8B ...
              * index                    (index) int32 83kB 0 1 2 3 ... 20698 20699 20700
              * layer_depth              (layer_depth) float64 240B 1.5 4.65 ... 424.2 467.5
              * nv                       (nv) int64 16B 0 1
              * gate_times               (gate_times) float64 120B 1.085e-05 ... 0.01338
                x                        (index) float64 166kB ...
                y                        (index) float64 166kB ...
                z                        (index) float64 166kB ...
            Data variables: (12/49)
                layer_depth_bnds         (layer_depth, nv) float64 480B ...
                gate_times_bnds          (gate_times, nv) float64 240B ...
                uniqueid                 (index) int32 83kB ...
                survey                   (index) int32 83kB ...
                date                     (index) int32 83kB ...
                flight                   (index) int32 83kB ...
                ...                       ...
                phic                     (index) float64 166kB ...
                phit                     (index) float64 166kB ...
                phig                     (index) float64 166kB ...
                phis                     (index) float64 166kB ...
                lambda                   (index) float64 166kB ...
                iterations               (index) int32 83kB ...
            Attributes:
                content:  inverted resistivity models
                comment:  This dataset includes inverted resistivity models derived from ...&gt;
</pre></div>
</div>
<p>Datasets are attached to the Survey regardless of their format whether unstructured tabular data or
image-type raster data</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Tabular</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Tabular:</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">survey</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">])</span>

<span class="c1"># Raster</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Raster:</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">survey</span><span class="p">[</span><span class="s1">&#39;data/derived_maps/maps&#39;</span><span class="p">])</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Tabular:

&lt;xarray.DataTree &#39;data&#39;&gt;
Group: /survey/data
│   Dimensions:      ()
│   Data variables:
│       spatial_ref  float64 8B ...
│   Attributes:
│       content:  raw and processed data
│       type:     container
├── Group: /survey/data/raw_data
│   │   Dimensions:          (index: 20701, gate_times: 15)
│   │   Coordinates:
│   │       spatial_ref      float64 8B ...
│   │     * index            (index) int32 83kB 0 1 2 3 4 ... 20697 20698 20699 20700
│   │       x                (index) float64 166kB ...
│   │       y                (index) float64 166kB ...
│   │       z                (index) float64 166kB ...
│   │     * gate_times       (gate_times) float64 120B 1.085e-05 3.255e-05 ... 0.01338
│   │   Data variables: (12/61)
│   │       line             (index) int32 83kB ...
│   │       flight           (index) int32 83kB ...
│   │       fiducial         (index) float64 166kB ...
│   │       proj_cgg         (index) int32 83kB ...
│   │       proj_client      (index) int32 83kB ...
│   │       date             (index) int32 83kB ...
│   │       ...               ...
│   │       z_primaryfield   (index) float64 166kB ...
│   │       z_vlf1           (index) float64 166kB ...
│   │       z_vlf2           (index) float64 166kB ...
│   │       z_vlf3           (index) float64 166kB ...
│   │       z_vlf4           (index) float64 166kB ...
│   │       z_geofact        (index) float64 166kB ...
│   │   Attributes:
│   │       content:  raw data
│   │       comment:  This dataset includes minimally processed (raw) AEM data
│   ├── Group: /survey/data/raw_data/tempest_system
│   │       Dimensions:                           (gate_times: 15, nv: 2,
│   │                                              n_transmitters: 1, z_waveform_time: 7,
│   │                                              n_receivers: 2, n_components: 2, xyz: 3)
│   │       Coordinates:
│   │         * nv                                (nv) int64 16B 0 1
│   │         * n_transmitters                    (n_transmitters) int64 8B 0
│   │         * z_waveform_time                   (z_waveform_time) float64 56B -0.01667 ...
│   │         * xyz                               (xyz) int64 24B 0 1 2
│   │         * n_receivers                       (n_receivers) int64 16B 0 1
│   │         * n_components                      (n_components) int64 16B 0 1
│   │       Data variables: (12/20)
│   │           gate_times_bnds                   (gate_times, nv) float64 240B ...
│   │           transmitter_label                 (n_transmitters) &lt;U1 4B ...
│   │           transmitter_area                  (n_transmitters) float64 8B ...
│   │           transmitter_base_frequency        (n_transmitters) float64 8B ...
│   │           transmitter_current_scale_factor  (n_transmitters) float64 8B ...
│   │           transmitter_number_of_turns       (n_transmitters) int32 4B ...
│   │           ...                                ...
│   │           component_transmitters            (n_components) &lt;U1 8B ...
│   │           component_receivers               (n_components) &lt;U1 8B ...
│   │           component_txrx_dx                 (n_components) float64 16B ...
│   │           component_txrx_dy                 (n_components) float64 16B ...
│   │           component_txrx_dz                 (n_components) float64 16B ...
│   │           component_gate_times              (n_components) &lt;U10 80B ...
│   │       Attributes:
│   │           type:        system
│   │           mode:        airborne
│   │           method:      electromagnetic
│   │           submethod:   time domain
│   │           instrument:  tempest
│   ├── Group: /survey/data/raw_data/magnetic_system
│   │       Attributes:
│   │           type:        system
│   │           mode:        airborne
│   │           method:      magnetic
│   │           submethod:   not_defined
│   │           instrument:  not_defiend
│   └── Group: /survey/data/raw_data/radiometric_system
│           Attributes:
│               type:        system
│               mode:        airborne
│               method:      radiometric
│               submethod:   not_defined
│               instrument:  not_defined
└── Group: /survey/data/derived_maps
    │   Dimensions:      ()
    │   Data variables:
    │       spatial_ref  float64 8B ...
    │   Attributes:
    │       content:  derived maps
    │       type:     container
    └── Group: /survey/data/derived_maps/maps
            Dimensions:       (x: 599, nv: 2, y: 1212)
            Coordinates:
                spatial_ref   float64 8B ...
              * x             (x) float64 5kB 2.928e+05 2.934e+05 ... 6.51e+05 6.516e+05
              * nv            (nv) int64 16B 0 1
              * y             (y) float64 10kB 1.607e+06 1.606e+06 ... 8.808e+05 8.802e+05
            Data variables:
                x_bnds        (x, nv) float64 10kB ...
                y_bnds        (y, nv) float64 19kB ...
                magnetic_tmi  (y, x) float64 6MB ...
            Attributes:
                comment:  &lt;additional details or ancillary information&gt;
                content:  gridded magnetic map

Raster:

&lt;xarray.DataTree &#39;maps&#39;&gt;
Group: /survey/data/derived_maps/maps
    Dimensions:       (x: 599, nv: 2, y: 1212)
    Coordinates:
        spatial_ref   float64 8B ...
      * x             (x) float64 5kB 2.928e+05 2.934e+05 ... 6.51e+05 6.516e+05
      * nv            (nv) int64 16B 0 1
      * y             (y) float64 10kB 1.607e+06 1.606e+06 ... 8.808e+05 8.802e+05
    Data variables:
        x_bnds        (x, nv) float64 10kB ...
        y_bnds        (y, nv) float64 19kB ...
        magnetic_tmi  (y, x) float64 6MB ...
    Attributes:
        comment:  &lt;additional details or ancillary information&gt;
        content:  gridded magnetic map
</pre></div>
</div>
<p>and the second is located at index 1</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Second Tabular Group:</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">survey</span><span class="p">[</span><span class="s1">&#39;models/inverted_models&#39;</span><span class="p">])</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Second Tabular Group:

&lt;xarray.DataTree &#39;inverted_models&#39;&gt;
Group: /survey/models/inverted_models
    Dimensions:                  (layer_depth: 30, nv: 2, gate_times: 15,
                                  index: 20701)
    Coordinates:
        spatial_ref              float64 8B ...
      * index                    (index) int32 83kB 0 1 2 3 ... 20698 20699 20700
      * layer_depth              (layer_depth) float64 240B 1.5 4.65 ... 424.2 467.5
      * nv                       (nv) int64 16B 0 1
      * gate_times               (gate_times) float64 120B 1.085e-05 ... 0.01338
        x                        (index) float64 166kB ...
        y                        (index) float64 166kB ...
        z                        (index) float64 166kB ...
    Data variables: (12/49)
        layer_depth_bnds         (layer_depth, nv) float64 480B ...
        gate_times_bnds          (gate_times, nv) float64 240B ...
        uniqueid                 (index) int32 83kB ...
        survey                   (index) int32 83kB ...
        date                     (index) int32 83kB ...
        flight                   (index) int32 83kB ...
        ...                       ...
        phic                     (index) float64 166kB ...
        phit                     (index) float64 166kB ...
        phig                     (index) float64 166kB ...
        phis                     (index) float64 166kB ...
        lambda                   (index) float64 166kB ...
        iterations               (index) int32 83kB ...
    Attributes:
        content:  inverted resistivity models
        comment:  This dataset includes inverted resistivity models derived from ...
</pre></div>
</div>
</section>
<section id="coordinates-dimensions-and-attributes">
<h2>Coordinates, Dimensions, and Attributes<a class="headerlink" href="#coordinates-dimensions-and-attributes" title="Link to this heading"></a></h2>
<p>All data variables must have dimensions, coordinate, and attributes</p>
<section id="dimensions">
<h3>Dimensions<a class="headerlink" href="#dimensions" title="Link to this heading"></a></h3>
<p>Tabular data are typicaly 1-D or 2-D variables with the primary dimension being <code class="docutils literal notranslate"><span class="pre">index</span></code>, which
corresponds to the rows of the input text file representing individual measurements.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">survey</span><span class="p">[</span><span class="s1">&#39;models/inverted_models&#39;</span><span class="p">][</span><span class="s1">&#39;index&#39;</span><span class="p">])</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;xarray.DataArray &#39;index&#39; (index: 20701)&gt; Size: 83kB
array([    0,     1,     2, ..., 20698, 20699, 20700], dtype=int32)
Coordinates:
    spatial_ref  float64 8B ...
  * index        (index) int32 83kB 0 1 2 3 4 ... 20696 20697 20698 20699 20700
    x            (index) float64 166kB ...
    y            (index) float64 166kB ...
    z            (index) float64 166kB ...
Attributes:
    standard_name:  index
    long_name:      Index of individual data points
    units:          not_defined
    null_value:     not_defined
    valid_range:    [    0 20700]
    grid_mapping:   spatial_ref
    axis:           INDEX
</pre></div>
</div>
<p>If a dimension is not discrete, meaning it represents ranges (such as depth layers),
then the bounds on each dimension value also need to be defined, and are linked
to the dimension through the “bounds” attribute.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;example non-discrete dimension:</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">survey</span><span class="p">[</span><span class="s1">&#39;models/inverted_models&#39;</span><span class="p">][</span><span class="s1">&#39;gate_times&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">corresponding bounds on non-discrete dimension:</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">survey</span><span class="p">[</span><span class="s1">&#39;models/inverted_models&#39;</span><span class="p">][</span><span class="s1">&#39;gate_times_bnds&#39;</span><span class="p">])</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>example non-discrete dimension:

&lt;xarray.DataArray &#39;gate_times&#39; (gate_times: 15)&gt; Size: 120B
array([1.085000e-05, 3.255000e-05, 5.426000e-05, 8.681000e-05, 1.410600e-04,
       2.278700e-04, 3.689300e-04, 5.859500e-04, 9.114800e-04, 1.410630e-03,
       2.191900e-03, 3.418070e-03, 5.338690e-03, 8.301020e-03, 1.337928e-02])
Coordinates:
    spatial_ref  float64 8B ...
  * gate_times   (gate_times) float64 120B 1.085e-05 3.255e-05 ... 0.01338
Attributes:
    standard_name:  gate_times
    long_name:      receiver gate times
    units:          seconds
    null_value:     not_defined
    valid_range:    [1.085000e-05 1.337928e-02]
    grid_mapping:   spatial_ref
    bounds:         gate_times_bnds


corresponding bounds on non-discrete dimension:

&lt;xarray.DataArray &#39;gate_times_bnds&#39; (gate_times: 15, nv: 2)&gt; Size: 240B
[30 values with dtype=float64]
Coordinates:
    spatial_ref  float64 8B ...
  * nv           (nv) int64 16B 0 1
  * gate_times   (gate_times) float64 120B 1.085e-05 3.255e-05 ... 0.01338
Attributes:
    standard_name:  gate_times_bounds
    long_name:      receiver gate times cell boundaries
    null_value:     not_defined
    valid_range:    [5.430000e-06 1.666171e-02]
    grid_mapping:   spatial_ref
</pre></div>
</div>
</section>
<section id="coordinates">
<h3>Coordinates<a class="headerlink" href="#coordinates" title="Link to this heading"></a></h3>
<p>Coordinates define the spatial and temporal positioning of the data (X Y Z T).
Additionally, all dimensions are by default classified as a coordinate.
This means a dataset can have both dimensional and non-dimensional coordinates.
Dimensional coordinates are noted with a * (or bold text) in printed output of the xarray,
such as <code class="docutils literal notranslate"><span class="pre">index</span></code>, <code class="docutils literal notranslate"><span class="pre">gate_times</span></code>, <code class="docutils literal notranslate"><span class="pre">nv</span></code> in this example:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">survey</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dataset</span><span class="o">.</span><span class="n">coords</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Coordinates:
    *empty*
</pre></div>
</div>
<p>Tabular Coordinates</p>
<p>In Tabular data, coordinates are typically non-dimensional, since the primary dataset
dimension is <code class="docutils literal notranslate"><span class="pre">index</span></code>. By default, we define the spatial coordinates, <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code>,
based on the longitude and latitude (or easting/northing) data variables. If relevant,
<code class="docutils literal notranslate"><span class="pre">z</span></code> and <code class="docutils literal notranslate"><span class="pre">t</span></code> coordinate variables can also be defined, representing the vertical and
temporal coordinates of the data points.</p>
<p>Note: All coordinates must match the coordinate reference system defined in the Survey.</p>
<p>Raster Coordinates</p>
<p>Raster data are gridded, typically representing maps or multi-dimensional models.
Therefore, Raster data almost always have dimensional coordinates, i.e., the
data dimensions correspond directly to either spatial or temporal coordinates (<code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code>, <code class="docutils literal notranslate"><span class="pre">z</span></code>, <code class="docutils literal notranslate"><span class="pre">t</span></code>).</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">survey</span><span class="p">[</span><span class="s1">&#39;data/derived_maps/maps&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">coords</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Coordinates:
    spatial_ref  float64 8B ...
  * x            (x) float64 5kB 2.928e+05 2.934e+05 ... 6.51e+05 6.516e+05
  * nv           (nv) int64 16B 0 1
  * y            (y) float64 10kB 1.607e+06 1.606e+06 ... 8.808e+05 8.802e+05
</pre></div>
</div>
<p>The Spatial Reference Coordinate</p>
<p>the <code class="docutils literal notranslate"><span class="pre">spatial_ref</span></code> coordinate variable is a non-dimensional coordinate that
contains information on the coordinate reference system. For more information,
see <a class="reference internal" href="plot_coordinate_reference_systems.html#coordinate-reference-systems"><span class="std std-ref">Coordinate Reference Systems</span></a>.</p>
</section>
<section id="attributes">
<h3>Attributes<a class="headerlink" href="#attributes" title="Link to this heading"></a></h3>
<p>Both datasets and data variables have attributes (metadata fields). Certain
attributes are required, see our documentation on <a class="reference internal" href="../../gspy_convention_requirements.html#gs-convention-requirements"><span class="std std-ref">the GS standard</span></a>.
for more details.</p>
<p>Dataset attributes</p>
<p>Dataset attributes provide users a way to document and describe supplementary
information about a dataset group as a whole, such as model inversion parameters
or other processing descriptions. At a minimum, a <code class="docutils literal notranslate"><span class="pre">content</span></code> attribute should
contain a brief summary of the contents of the dataset.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">pprint</span><span class="p">(</span><span class="n">survey</span><span class="p">[</span><span class="s1">&#39;models/inverted_models&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">attrs</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>{&#39;comment&#39;: &#39;This dataset includes inverted resistivity models derived from &#39;
            &#39;processed AEM data produced by USGS&#39;,
 &#39;content&#39;: &#39;inverted resistivity models&#39;}
</pre></div>
</div>
<p>Variable attributes</p>
<p>Each data variable must contain attributes detailing the metadata
of that individual variable. These follow the <a class="reference external" href="http://cfconventions.org/">Climate and Forecast (CF) metadata conventions</a>.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">pprint</span><span class="p">(</span><span class="n">survey</span><span class="p">[</span><span class="s1">&#39;models/inverted_models&#39;</span><span class="p">][</span><span class="s1">&#39;conductivity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">attrs</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>{&#39;format&#39;: &#39;30e15.6&#39;,
 &#39;grid_mapping&#39;: &#39;spatial_ref&#39;,
 &#39;long_name&#39;: &#39;Layer conductivity&#39;,
 &#39;null_value&#39;: &#39;not_defined&#39;,
 &#39;standard_name&#39;: &#39;conductivity&#39;,
 &#39;units&#39;: &#39;S/m&#39;,
 &#39;valid_range&#39;: array([1.e-04, 1.e+01])}
</pre></div>
</div>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> (0 minutes 1.453 seconds)</p>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-examples-interacting-with-gs-files-plot-xarray-methods-py">
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/97247a44857b3780174169eaa85d2363/plot_xarray_methods.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">plot_xarray_methods.ipynb</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/b95ad0555250a202737d3010d7a98ee8/plot_xarray_methods.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">plot_xarray_methods.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-zip docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/0baab6385002cc5642dc64c790489dc8/plot_xarray_methods.zip"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">zipped:</span> <span class="pre">plot_xarray_methods.zip</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../Creating_GS_Files/plot_csv_skytem_to_netcdf.html" class="btn btn-neutral float-left" title="Multi-dataset Survey" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="plot_coordinate_reference_systems.html" class="btn btn-neutral float-right" title="Coordinate Reference Systems" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright None.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>